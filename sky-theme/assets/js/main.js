
// export { runCookieConsent } from "./gdpr";

// console.log('This site was generated by Hugo.');

// document.addEventListener("DOMContentLoaded",function(){
//     console.log("dom content loaded");
//     // runCookieConsent({});
// });
// import { h, html, signal, render} from './preact-bundle.js'
import { h, render, html, signal } from  'jslibs/preact-bundle.js';
import MiniSearch from 'jslibs/minisearch.js'

import CookieBanner from './cookie-gdpr.js'
import {Search} from './search.js'

import Alpine from 'jslibs/alpinejs.js'

// let miniSearch = new MiniSearch({
//   fields: ['title', 'text'], // fields to index for full-text search
//   storeFields: ['title', 'category'] // fields to return with search results
// })

// window.miniSearch = miniSearch;

Alpine.start();


// Initialize htm with Preact
// const html = htm.bind(h);

const counter = signal(0);

function App (props) {

  function sayHello() {
    console.log(counter.value);
    counter.value++;
  }

  function increment() {
    console.log(counter.value);
    counter.value++;
  }

  function decrement() {
    counter.value--;
  }

  const sayTwo = () => {
    console.log("dos");
  }

  return html`
    <div class="container p-4">
        <button 
            type="button"
            class="text-orange-800 bg-white border border-gray-300 focus:outline-none hover:bg-gray-100 focus:ring-4 focus:ring-gray-100 font-medium rounded-full text-sm px-5 py-2.5 me-2 mb-2 dark:bg-gray-800 dark:text-white dark:border-gray-600 dark:hover:bg-gray-700 dark:hover:border-gray-600 dark:focus:ring-gray-700"
            onClick=${sayHello}
            >
                ${props.name}: ${counter}
        </button>

    </div>`
}
//render(html`<${CookieBanner} name="World" />`, document.getElementById('cookie-banner'));

// render(html`<${App} name="World" />`, document.getElementById('react'));
render(html`<${Search} name="World" />`, document.getElementById('react'));

